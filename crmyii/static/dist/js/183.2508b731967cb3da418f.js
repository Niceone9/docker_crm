webpackJsonp([183],{1063:function(e,t,n){n(2082);var a=n(19)(n(1658),n(2335),null,null);e.exports=a.exports},1658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),i=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(50),o=n(470),r=n(1),p="";t.default={data:function(){return{titleName:"",fenpei_number:"",listLoading:!0,fenpei_balanceTable:[],fphuikuan:function(e){var t=this;(0,o.fphuikuan)({id:e}).then(function(e){e.contract_list=e.contract_list.filter(function(e,t){return e.inputData=0,e.hetong_yu_e=Number(e.huikuan)+Number(e.bukuan)-Number(e.yu_e),e}),t.titleName=e.costomer.advertiser,t.fenpei_number=e.costomer.undistributed_yu_e,t.fenpei_balanceTable=e.contract_list,t.listLoading=!1}).catch(function(e){t.$message.error("获取失败")})},fphuikuanru:function(e){var t=this;(0,o.fphuikuanru)({data:e}).then(function(e){t.success()}).catch(function(e){t.$message.error("获取失败")})},success:function(){this.$notify({title:"提交成功",message:"此页面将跳转到--客户控制台",type:"success"});var e=this;setTimeout(function(){e.$router.push({name:"console",query:{type:1}})},500)},tan:function(e){var t=this;this.$confirm("提交后不可更改, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.fphuikuanru(e),t.$message({type:"success",message:"提交成功!"})}).catch(function(){t.$message({type:"info",message:"已取消提交"})})}}},components:{},computed:(0,i.default)({},(0,l.mapGetters)(["user"])),watch:{user:function(e){}},mounted:function(){var e=location.href.split("?")[1];p=decodeURI(e.split("&")[0].split("=")[1]),this.fphuikuan(p)},methods:{ping:function(e){Number(this.fenpei_balanceTable[e].hetong_yu_e)<0?this.fenpei_balanceTable[e].inputData=-Number(this.fenpei_balanceTable[e].hetong_yu_e).toFixed(2):this.fenpei_balanceTable[e].inputData=Number(this.fenpei_balanceTable[e].hetong_yu_e).toFixed(2)},fenpei:function(){this.fenpei_balanceTable=this.fenpei_balanceTable.filter(function(e,t){return e.xf_qiane&&(e.inputData=e.xf_qiane),e})},pullTable:function(){for(var e={advertiser:p,ht_id:[],pmoney:[]},t=0,n=0;n<this.fenpei_balanceTable.length;n++)t+=Number(this.fenpei_balanceTable[n].inputData),e.ht_id.push(this.fenpei_balanceTable[n].id),e.pmoney.push(this.fenpei_balanceTable[n].inputData);this.tan(e)},restTable:function(){this.fenpei_balanceTable=this.fenpei_balanceTable.filter(function(e,t){return e.inputData=0,e})},jumpConsole:function(){this.$router.push({name:"console",query:{type:1}})},jumpCustomerList:function(){this.$router.push({name:"kehuliebiao"})}},created:function(){},filters:{ctimeData:function(e){var t=new Date(1e3*parseInt(e));return r(t).format("YYYY-MM-DD")},start:function(e){return 1==e?"已审核":"未通过"},fileFun:function(e){return e||"---"},fenpeiData:function(e){return e||"暂无建议"}}}},1856:function(e,t,n){t=e.exports=n(965)(),t.push([e.i,".vue-table{border:1px solid #b4b4b4!important}.el-table td,.el-table th{padding:0!important;height:35px!important}.vue-table .el-table__header thead tr th{border-bottom:none}.vue-table .el-table--fit{text-align:center}.vue-table .el-table--fit,.vue-table .el-table__empty-block{height:400px!important;min-height:400px!important}.vue-table .el-input__inner{height:30px!important;line-height:30px!important}.vue-table .tool-bar{margin-bottom:0}.vue-table .cell,.vue-table .td-text{width:100%;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important;color:#000;padding-left:20px}.vue-table td,.vue-table th.is-leaf{border-bottom:none!important}.el-table thead th,.el-table thead th>.cell{background:#f7f7f7!important}.vue-table .cell{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vue-table .cell .xfshow{position:absolute;left:0;top:0;width:0;height:0;border-top:10px solid #ff4081;border-right:10px solid transparent}.vue-table .cell .appInfor{width:20px;height:20px;text-align:center;line-height:20px;font-size:12px;border-radius:50%;display:inline-block}.vue-table .cell .appInfor.qu{color:#fff;background:#ff8754}.vue-table .cell .appInfor.zhi{color:#fff;background:#3f7ffc}.vue-table .el-pagination{white-space:nowrap;padding:2px 5px;color:#606987;float:right;border-radius:5px}.vue-table .el-pager li,.vue-table .el-pagination button,.vue-table .el-pagination span{min-width:25px;height:25px;line-height:25px}.vue-table .el-pager li{padding:0 4px;font-size:14px;border-radius:5px;text-align:center;margin:0 2px;color:#bfcbd9}.vue-table .el-input__inner,.vue-table .el-pagination .btn-next,.vue-table .el-pagination .btn-prev{border-radius:5px;border:1px solid #bfcbd9}.vue-table .el-input__inner{width:100%;height:20px}.vue-table .el-pagination .el-select .el-input input{padding-right:25px;border-radius:5px;height:25px!important;margin-left:5px}.vue-table .el-pagination__editor{border:1px solid #d1dbe5;border-radius:5px;padding:4px 2px;width:25px!important;height:25px;line-height:25px;text-align:center;margin:0 6px;box-sizing:border-box;transition:border .3s}.vue-table .pagination-wrap{text-align:center;margin-top:8px;height:40px}.vue-table .el-pager li{box-sizing:border-box}.vue-table .el-pager li.active+li{border:1px solid #d1dbe5}.vue-table .el-table__body td{cursor:pointer;font-size:12px;border-right:none}.vue-table.el-table .cell,.vue-table.el-table th>div{padding-right:0}.vue-table ::-webkit-scrollbar{width:7px;height:16px;border-radius:0;background-color:#fff}.vue-table ::-webkit-scrollbar-track{border-radius:10px;background-color:#fff}.vue-table ::-webkit-scrollbar-thumb{height:10px;border-radius:10px;-webkit-box-shadow:inset 0 0 6px #fff;background-color:rgba(205,211,237,.4)}.vue-table tbody tr:nth-child(2n) td{background:#f8f9fb;background-clip:padding-box!important}.vue-table tbody tr:nth-child(odd) td{background-color:#fff}.block{height:50px;position:relative;padding:.1px}.block .el-pagination{margin-top:10px}.block .el-pagination .el-pagination__sizes .el-select{height:30px!important}.block .el-pagination .el-pagination__sizes .el-select input{height:29px!important;line-height:29px!important}.textBorder{text-decoration:line-through!important}.border,.textBorder{color:#757575!important}.textColor{background:#757575!important}.crm_title{width:100%;height:20px;line-height:20px;font-size:14px;margin:0;text-indent:20px;position:relative;color:#000;background:#fff}.crm_title .crm_line{display:inline-block;position:absolute;left:0;top:0;bottom:0;margin:auto;width:4px;height:20px;background:#1a2834}.crm_title span{cursor:pointer}.crm_title .list{margin:0 10px;text-decoration:underline}.crm_title .list img{width:14px}.fenpei_balanceList{width:100%}.fenpei_balanceList .fenpei_balanceTiele{margin:10px 0}.fenpei_balanceList .fenpei_balanceTiele .corporateName{font-size:22px;margin-right:10px}.fenpei_balanceList .fenpei_balanceTiele .fenpei_num{display:inline-block;font-size:16px;color:#54adff}.fenpei_balanceList .fenpei_balanceTiele .right_btn{float:right;padding:0;height:30px;width:90px}.fenpei_balanceList .fenpei_balanceBox .fenpei_balanceTable .vue-table{max-height:600px}.fenpei_balanceList .fenpei_balanceBox .fenpei_balanceTable .vue-table .cell{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.fenpei_balanceList .fenpei_balanceBox .fenpei_balanceTable .vue-table .cell .icon_xiugai{font-size:18px}.fenpei_balanceList .fenpei_balanceBox .fenpei_balanceTable .vue-table .cell .operation{width:140px;height:100%;vertical-align:middle;font-size:18px;border:1px solid #bbb;border-radius:3px;overflow:hidden}.fenpei_balanceList .fenpei_balanceBox .fenpei_balanceTable .vue-table .cell .operation .el-input{display:inline-block;width:100px}.fenpei_balanceList .fenpei_balanceBox .fenpei_balanceTable .vue-table .cell .operation .el-input input{height:29px!important;border-radius:0;font-size:12px;border:none}.fenpei_balanceList .fenpei_balanceBox .fenpei_balanceTable .vue-table .cell .operation span{display:inline-block;width:34px;height:30px;line-height:30px;text-align:center;font-size:12px;background:#5cb85c;color:#fff;cursor:pointer}.fenpei_balanceList .fenpei_balanceBox .fenpei_balanceTable .vue-table .start_icon{display:inline-block;margin:0 2%;font-size:16px}.fenpei_balanceList .fenpei_balanceBox .fenpei_balanceTable .tableFoot{text-align:right;margin-top:20px}.fenpei_balanceList .fenpei_balanceBox .fenpei_balanceTable .tableFoot button{width:80px;height:30px;line-height:30px;padding:0}.fenpei_balanceList .fenpei_balanceBox .fenpei_balanceTable .tableFoot .reset{color:#54adff;border:1px solid #54adff}",""])},2082:function(e,t,n){var a=n(1856);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(966)("77de3974",a,!0)},2335:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fenpei_balanceList"},[n("el-row",{staticClass:"fenpei_balanceBox"},[n("p",{staticClass:"crm_title"},[n("i",{staticClass:"crm_line"}),e._v(" "),n("span",{on:{click:e.jumpCustomerList}},[e._v("客户列表")]),e._v(">"),n("span",{on:{click:e.jumpConsole}},[e._v("客户控制台")]),e._v(">"),n("span",[e._v("分配余额")])]),e._v(" "),n("el-col",{staticClass:"fenpei_balanceTiele",attrs:{span:24}},[n("span",{staticClass:"corporateName"},[e._v(e._s(e.titleName)+"-分配合同回款")]),e._v(" "),n("div",{staticClass:"fenpei_num"},[n("span",[e._v("\n                    可分配余额:\n                ")]),e._v(" "),n("span",[e._v("\n                  "+e._s(e._f("currency")(e.fenpei_number,""))+"\n                ")])]),e._v(" "),n("el-button",{staticClass:"right_btn",attrs:{type:"primary"},on:{click:e.fenpei}},[e._v("一键分配")])],1),e._v(" "),n("el-col",{staticClass:"fenpei_balanceTable",attrs:{span:24}},[n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"vue-table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",border:"",data:e.fenpei_balanceTable,height:"700"}},[n("el-table-column",{attrs:{width:"160",label:"合同编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(t.row.contract_no)+"\n                        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"产品线"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(t.row.product_line)+"\n                        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"contract_money",label:"合同金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("currency")(t.row.money,""))+"\n                        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"address",label:"合同"+e.$t("titles.fandian")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("currency")(t.row.fandian,""))+"\n                        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"hetong_yu_e",label:"合同余额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("currency")(t.row.hetong_yu_e,""))+"\n                        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"ctime",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("ctimeData")(t.row.ctime))+"\n                        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"address",label:"建议分配"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e._f("fenpeiData")(t.row.xf_qiane))+"\n                        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{width:"180",label:"分配额度"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"operation",staticStyle:{position:"relative"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.row.inputData,expression:"scope.row.inputData"}],staticStyle:{"line-height":"normal",border:"none","font-size":"12px",height:"24px",width:"100px","padding-left":"20px",outline:"none","z-index":"9"},attrs:{type:"number",name:"mouse2",placeholder:"请输入金额",onmousewheel:"return false;"},domProps:{value:t.row.inputData},on:{input:function(n){n.target.composing||e.$set(t.row,"inputData",n.target.value)}}}),e._v(" "),n("span",{on:{click:function(n){return e.ping(t.$index)}}},[e._v("平!")])])]}}])})],1)],1),e._v(" "),n("div",{staticClass:"tableFoot"},[n("el-button",{staticClass:"pull",attrs:{type:"primary"},on:{click:e.pullTable}},[e._v("提交")]),e._v(" "),n("el-button",{staticClass:"reset",on:{click:e.restTable}},[e._v("重置")])],1)])],1)],1)},staticRenderFns:[]}}});