webpackJsonp([203],{1179:function(t,e,n){var o=n(19)(n(1774),n(2413),null,null);t.exports=o.exports},1403:function(t,e,n){"use strict";function o(t){return(0,s.fetch)({url:"/sem/gettype",method:"get",params:{id:t}})}function i(){return(0,s.fetch)({url:"agent_company_list",method:"get"})}function a(t){return(0,s.fetch)({url:"/agent_company_addru",method:"post",data:t})}function l(){return(0,s.fetch)({url:"piaotype_list",method:"get"})}function r(t){return(0,s.fetch)({url:"piaotype_addru",method:"post",data:t})}Object.defineProperty(e,"__esModule",{value:!0}),e.getType=o,e.getAgentList=i,e.addAgent=a,e.getInvoiceList=l,e.addInvoice=r;var s=n(66)},1774:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1403);e.default={components:{},data:function(){return{invoiceData:[],form:{company:"",name:""},companys:[],formLabelWidth:"120px",dialogFormVisible:!1}},methods:{showAddInvoice:function(){this.dialogFormVisible=!0},addInvoice:function(){var t=this;this.dialogFormVisible=!1,(0,o.addInvoice)({advertiser:this.form.company,name:this.form.name}).then(function(e){t.getInvoice()})},getInvoice:function(){var t=this;(0,o.getInvoiceList)().then(function(e){t.invoiceData=e})},getAgency:function(){var t=this;(0,o.getAgentList)().then(function(e){t.companys=e})},deleteItem:function(t){this.$confirm("是否删除该条记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){}).catch(function(){})}},mounted:function(){this.getInvoice(),this.getAgency()}}},2413:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fapiaoList"},[n("el-row",{staticClass:"fapiaoBox"},[n("p",{staticClass:"crm_title"},[n("i",{staticClass:"crm_line"}),t._v(" "),n("span",[t._v("发票种类")])]),t._v(" "),n("el-col",{staticClass:"screen",attrs:{span:24}},[n("el-button",{staticClass:"qingjia",attrs:{type:"primary"},on:{click:t.showAddInvoice}},[t._v("添加发票种类")])],1),t._v(" "),n("el-col",{staticClass:"fapiaoTable",attrs:{span:24}},[n("div",[n("el-table",{staticClass:"vue-table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",border:"",data:t.invoiceData,height:"740"}},[n("el-table-column",{attrs:{prop:"daili.companyname",label:t.$t("titles.advertiser")}}),t._v(" "),n("el-table-column",{attrs:{prop:"name","header-align":"center",label:"发票种类"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.deleteItem(e.row)}}},[t._v("删除")])]}}])})],1)],1)])],1),t._v(" "),n("el-dialog",{attrs:{title:"添加发票种类",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:function(e){t.dialogFormVisible=!1}}},[n("el-form",{attrs:{model:t.form}},[n("el-form-item",{attrs:{label:"公司名称","label-width":t.formLabelWidth}},[n("el-select",{attrs:{placeholder:"请选择公司"},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}},t._l(t.companys,function(t,e){return n("el-option",{key:t.id,attrs:{label:t.companyname,value:t.id}})}),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"发票种类","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.addInvoice}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}}});