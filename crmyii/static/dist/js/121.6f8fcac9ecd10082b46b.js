webpackJsonp([121,204],{1027:function(t,e,a){a(2224);var n=a(19)(a(1622),a(2455),null,null);t.exports=n.exports},1239:function(t,e,a){"use strict";function n(t){return(0,C.fetch)({url:"customerList",method:"get",params:""})}function r(t){return(0,C.fetch)({url:"profitsTrend/12/default?cuid="+t.id,method:"get",params:""})}function i(t){return(0,C.fetch)({url:"profitsTrueTrend/12/default?cuid="+t.id,method:"get",params:""})}function o(t){return(0,C.fetch)({url:"renewRank/"+t.num+"/"+t.data+"default",method:"get",params:""})}function l(t){return(0,C.fetch)({url:"renewTrend/12/default",method:"post",data:t.date})}function d(t){return(0,C.fetch)({url:"market_renew_money_zhexian/"+t.date,method:"get",params:""})}function u(t){return(0,C.fetch)({url:t.data+"/"+t.num+"/"+t.date+"default",method:"get",params:""})}function p(t){return(0,C.fetch)({url:t.data+"/12/default",method:"post",data:t.date})}function c(t){return(0,C.fetch)({url:"mediaProductStatistical/"+t.data,method:"get",params:""})}function s(t){return(0,C.fetch)({url:"mediaRunning/12"+t.prlinid+"year="+t.year,method:"get",params:""})}function f(t){return(0,C.fetch)({url:"contractAddRank/"+t.default+"/"+t.data,method:"get",params:""})}function h(t){return(0,C.fetch)({url:"contractMarketAddList/"+t.default+"/"+t.data,method:"get",params:""})}function m(t){return(0,C.fetch)({url:"marketProfitsRank/"+t.default+"/"+t.data,method:"get",params:""})}function g(t){return(0,C.fetch)({url:"marketProfitsList/"+t.id+"/"+t.data,method:"get",params:""})}function b(t){return(0,C.fetch)({url:"contractAddList/"+t.data,method:"get",params:""})}function x(t){return(0,C.fetch)({url:"semRank/"+t.data,method:"get",params:""})}function _(t){return(0,C.fetch)({url:"semCost/"+t.name+"/"+t.data,method:"get",params:""})}function v(t){return(0,C.fetch)({url:"customer_prlin/"+t.id,method:"get",params:""})}function y(t){return(0,C.fetch)({url:"profitsTrend/12/default?cuid="+t.id+"&prlin="+t.prlin,method:"post",data:t.date})}function k(t){return(0,C.fetch)({url:"market_renew_money_zhexian/"+t.date+"?adid="+t.id+t.data+t.prlin,method:"get",params:""})}function w(t){return(0,C.fetch)({url:"profitsTrueTrend/12/default?cuid="+t.id+"&prlin="+t.prlin,method:"post",data:t.date})}function z(t){return(0,C.fetch)({url:"/product_linlist",method:"get",params:""})}function R(t){return(0,C.fetch)({url:t.data+"/"+t.num+"/"+t.date+"default?prlin="+t.id,method:"get",params:""})}function L(t){return(0,C.fetch)({url:"customer_profits_rank/"+t.data+"order="+t.name,method:"get",params:""})}function S(t){return(0,C.fetch)({url:"customer_profits_rank/"+t.date+"order="+t.name+t.data,method:"get",params:""})}function Y(t){return(0,C.fetch)({url:"lirun_money_zhexian/"+t.date+t.data,method:"get",params:""})}function P(t){return(0,C.fetch)({url:"mediaRunning/12?year="+t.date+"&prlinid="+t.prlinid,method:"get",params:""})}Object.defineProperty(e,"__esModule",{value:!0}),e.customers=n,e.profitsTrend=r,e.profitsTrueTrend=i,e.getRankList=o,e.getMonthline=l,e.market_renew_money_zhexian=d,e.getProfitsRankList=u,e.getProfitsMonthline=p,e.getmedia=c,e.getmedialine=s,e.getcontractAddRank=f,e.contractMarketAddList=h,e.getcontractprofitRank=m,e.marketProfitsList=g,e.getcontractContract=b,e.getSemRank=x,e.semCost=_,e.customer_prlin=v,e.actualRenewals=y,e.market_renew_money_zhexian_xf=k,e.backPayment=w,e.product_linlist=z,e.getProfitsRankListAll=R,e.customer_profits_rank_xf=L,e.customer_profits_rank=S,e.lirun_money_zhexian=Y,e.mediaRunning=P;var C=a(66)},1372:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(192),i=n(r),o=a(193),l=n(o),d=a(1239);e.default={data:function(){return{chart:null,date:"",mediaRunning:function(t,e){var a=this;(0,d.mediaRunning)({prlinid:t,date:this.date}).then(function(t){for(var n=[],r=0;r<t.data.length;r++)n.push(t.data[r].money);a.lineEcharts(e,n)}).catch(function(t){a.$message.error("error")})},pieEcharts:function(t,e){var a=l.default.init(document.getElementById("pie")),n={tooltip:{show:!0},legend:{orient:"vertical",x:"right",data:e},label:{normal:{show:!1},emphasis:{show:!0,textStyle:{color:"#fff",fontSize:"20",fontWeight:"bold"}}},color:["#4bc5b0","#46a0ba","#3e7ebe","#8a50f4","#ae4bb5","#f5458e","#f64d60"],calculable:!0,series:[{name:"访问来源",type:"pie",center:["30%",180],radius:[100,120],data:t}]},r=this;a.setOption(n),a.on("click",function(t){r.mediaRunning(t.data.id,t.data.name)}),window.addEventListener("resize",function(){a.resize()},!1)},lineEcharts:function(t,e){var a,n=l.default.init(document.getElementById("line")),r=function(){for(var t=[],e=1;e<13;e++)t.push(e+"月份");return t}(),o=(a={backgroundColor:"#fff",title:{x:"4%",textStyle:{color:"#fff",fontSize:"22"},subtextStyle:{color:"#90979c",fontSize:"16"}},tooltip:{trigger:"axis",axisPointer:{textStyle:{color:"#fff"}}},grid:{top:"20%",left:"6%",right:"6%",bottom:"20%",textStyle:{color:"#fff"}},legend:{data:['销售利润"']},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#90979c"}},splitLine:{show:!1},axisTick:{show:!1},splitArea:{show:!1},axisLabel:{interval:0},data:r}],yAxis:[{type:"value",name:"媒体金额流水趋势（元）",axisLabel:{formatter:function(t,e){return t/1e4+"万"}},splitLine:{show:!1}}]},(0,i.default)(a,"legend",{data:[t]}),(0,i.default)(a,"series",[{name:t,type:"line",stack:"总量",symbolSize:10,symbol:"circle",itemStyle:{normal:{color:"#f2b0ef",barBorderRadius:0}},data:e}]),a);n.setOption(o);window.addEventListener("resize",function(){n.resize()},!1)}}},watch:{monthData:function(t){var e=[];for(var a in t.data)e.push(t.data[a].name);this.date=t.date,this.mediaRunning("","全部产品线"),this.pieEcharts(t.data,e),this.lineEcharts()}},props:["monthData"]}},1553:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{height:"320px",width:"100%"},attrs:{id:"pie"}}),t._v(" "),a("div",{staticStyle:{height:"300px",width:"100%","margin-top":"20px"},attrs:{id:"line"}})])},staticRenderFns:[]}},1622:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(984),r=function(t){return t&&t.__esModule?t:{default:t}}(n),i=a(1239),o=a(1);e.default={data:function(){return{yearData:o().format("YYYY"),consumption:0,monthData:[],getmedia:function(){var t=this;(0,i.getmedia)({data:o(this.yearData).format("YYYY-01-01")+"/"+o(this.yearData).format("YYYY-12-31")}).then(function(e){for(var a=[],n=0,r=0;r<e.data.length;r++)a.push({value:e.data[r].money,name:e.data[r].name,id:e.data[r].id}),n+=Number(e.data[r].money);t.consumption=n,t.monthData={data:a,date:o(t.yearData).format("YYYY")}}).catch(function(e){t.$message.error("error")})}}},components:{mediaPie:r.default},mounted:function(){this.getmedia()},methods:{yearChange:function(){this.getmedia()}}}},1998:function(t,e,a){e=t.exports=a(965)(),e.push([t.i,".crm_title{width:100%;height:20px;line-height:20px;font-size:14px;margin:0;text-indent:20px;position:relative;color:#000;background:#fff}.crm_title .crm_line{display:inline-block;position:absolute;left:0;top:0;bottom:0;margin:auto;width:4px;height:20px;background:#1a2834}.crm_title span{cursor:pointer}.crm_title .list{margin:0 10px;text-decoration:underline}.crm_title .list img{width:14px}.vue-table{border:1px solid #b4b4b4!important}.el-table td,.el-table th{padding:0!important;height:35px!important}.vue-table .el-table__header thead tr th{border-bottom:none}.vue-table .el-table--fit{text-align:center}.vue-table .el-table--fit,.vue-table .el-table__empty-block{height:400px!important;min-height:400px!important}.vue-table .el-input__inner{height:30px!important;line-height:30px!important}.vue-table .tool-bar{margin-bottom:0}.vue-table .cell,.vue-table .td-text{width:100%;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important;color:#000;padding-left:20px}.vue-table td,.vue-table th.is-leaf{border-bottom:none!important}.el-table thead th,.el-table thead th>.cell{background:#f7f7f7!important}.vue-table .cell{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vue-table .cell .xfshow{position:absolute;left:0;top:0;width:0;height:0;border-top:10px solid #ff4081;border-right:10px solid transparent}.vue-table .cell .appInfor{width:20px;height:20px;text-align:center;line-height:20px;font-size:12px;border-radius:50%;display:inline-block}.vue-table .cell .appInfor.qu{color:#fff;background:#ff8754}.vue-table .cell .appInfor.zhi{color:#fff;background:#3f7ffc}.vue-table .el-pagination{white-space:nowrap;padding:2px 5px;color:#606987;float:right;border-radius:5px}.vue-table .el-pager li,.vue-table .el-pagination button,.vue-table .el-pagination span{min-width:25px;height:25px;line-height:25px}.vue-table .el-pager li{padding:0 4px;font-size:14px;border-radius:5px;text-align:center;margin:0 2px;color:#bfcbd9}.vue-table .el-input__inner,.vue-table .el-pagination .btn-next,.vue-table .el-pagination .btn-prev{border-radius:5px;border:1px solid #bfcbd9}.vue-table .el-input__inner{width:100%;height:20px}.vue-table .el-pagination .el-select .el-input input{padding-right:25px;border-radius:5px;height:25px!important;margin-left:5px}.vue-table .el-pagination__editor{border:1px solid #d1dbe5;border-radius:5px;padding:4px 2px;width:25px!important;height:25px;line-height:25px;text-align:center;margin:0 6px;box-sizing:border-box;transition:border .3s}.vue-table .pagination-wrap{text-align:center;margin-top:8px;height:40px}.vue-table .el-pager li{box-sizing:border-box}.vue-table .el-pager li.active+li{border:1px solid #d1dbe5}.vue-table .el-table__body td{cursor:pointer;font-size:12px;border-right:none}.vue-table.el-table .cell,.vue-table.el-table th>div{padding-right:0}.vue-table ::-webkit-scrollbar{width:7px;height:16px;border-radius:0;background-color:#fff}.vue-table ::-webkit-scrollbar-track{border-radius:10px;background-color:#fff}.vue-table ::-webkit-scrollbar-thumb{height:10px;border-radius:10px;-webkit-box-shadow:inset 0 0 6px #fff;background-color:rgba(205,211,237,.4)}.vue-table tbody tr:nth-child(2n) td{background:#f8f9fb;background-clip:padding-box!important}.vue-table tbody tr:nth-child(odd) td{background-color:#fff}.block{height:50px;position:relative;padding:.1px}.block .el-pagination{margin-top:10px}.block .el-pagination .el-pagination__sizes .el-select{height:30px!important}.block .el-pagination .el-pagination__sizes .el-select input{height:29px!important;line-height:29px!important}.textBorder{text-decoration:line-through!important}.border,.textBorder{color:#757575!important}.textColor{background:#757575!important}.liushui .top_year .el-date-editor{width:160px}.liushui .top_year .el-date-editor input{height:30px!important;line-height:30px!important}.liushui .top_year .el-date-editor .el-input__icon{line-height:21px}.liushui .top_year .allMoney{height:30px;line-height:30px;display:inline-block;background:#e3f3ff;color:#22adff;font-size:14px;font-weight:700;padding:0 10px;margin-left:20px}",""])},2224:function(t,e,a){var n=a(1998);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(966)("15085550",n,!0)},2455:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"components-container liushui"},[a("el-col",{attrs:{span:24}},[a("el-row",{staticClass:"caiwu_line"},[a("p",{staticClass:"crm_title"},[a("i",{staticClass:"crm_line"}),t._v(" "),a("span",[t._v("媒体流水")])])])],1),t._v(" "),a("el-col",{staticClass:"top_year",staticStyle:{"margin-top":"10px"},attrs:{span:24}},[a("el-date-picker",{attrs:{align:"right",type:"year",clearable:!1,placeholder:"选择年"},on:{change:t.yearChange},model:{value:t.yearData,callback:function(e){t.yearData=e},expression:"yearData"}}),t._v(" "),a("div",{staticClass:"allMoney"},[t._v("\n            全年总流水："+t._s(t._f("currency")(t.consumption,""))+"\n        ")])],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("mediaPie",{attrs:{monthData:t.monthData,width:"100%"}})],1)],1)},staticRenderFns:[]}},984:function(t,e,a){var n=a(19)(a(1372),a(1553),null,null);t.exports=n.exports}});