webpackJsonp([169],{1029:function(t,e,a){a(2115);var r=a(19)(a(1624),a(2365),null,null);t.exports=r.exports},1239:function(t,e,a){"use strict";function r(t){return(0,O.fetch)({url:"customerList",method:"get",params:""})}function i(t){return(0,O.fetch)({url:"profitsTrend/12/default?cuid="+t.id,method:"get",params:""})}function o(t){return(0,O.fetch)({url:"profitsTrueTrend/12/default?cuid="+t.id,method:"get",params:""})}function n(t){return(0,O.fetch)({url:"renewRank/"+t.num+"/"+t.data+"default",method:"get",params:""})}function d(t){return(0,O.fetch)({url:"renewTrend/12/default",method:"post",data:t.date})}function s(t){return(0,O.fetch)({url:"market_renew_money_zhexian/"+t.date,method:"get",params:""})}function l(t){return(0,O.fetch)({url:t.data+"/"+t.num+"/"+t.date+"default",method:"get",params:""})}function c(t){return(0,O.fetch)({url:t.data+"/12/default",method:"post",data:t.date})}function u(t){return(0,O.fetch)({url:"mediaProductStatistical/"+t.data,method:"get",params:""})}function f(t){return(0,O.fetch)({url:"mediaRunning/12"+t.prlinid+"year="+t.year,method:"get",params:""})}function h(t){return(0,O.fetch)({url:"contractAddRank/"+t.default+"/"+t.data,method:"get",params:""})}function p(t){return(0,O.fetch)({url:"contractMarketAddList/"+t.default+"/"+t.data,method:"get",params:""})}function g(t){return(0,O.fetch)({url:"marketProfitsRank/"+t.default+"/"+t.data,method:"get",params:""})}function _(t){return(0,O.fetch)({url:"marketProfitsList/"+t.id+"/"+t.data,method:"get",params:""})}function m(t){return(0,O.fetch)({url:"contractAddList/"+t.data,method:"get",params:""})}function x(t){return(0,O.fetch)({url:"semRank/"+t.data,method:"get",params:""})}function b(t){return(0,O.fetch)({url:"semCost/"+t.name+"/"+t.data,method:"get",params:""})}function v(t){return(0,O.fetch)({url:"customer_prlin/"+t.id,method:"get",params:""})}function k(t){return(0,O.fetch)({url:"profitsTrend/12/default?cuid="+t.id+"&prlin="+t.prlin,method:"post",data:t.date})}function w(t){return(0,O.fetch)({url:"market_renew_money_zhexian/"+t.date+"?adid="+t.id+t.data+t.prlin,method:"get",params:""})}function y(t){return(0,O.fetch)({url:"profitsTrueTrend/12/default?cuid="+t.id+"&prlin="+t.prlin,method:"post",data:t.date})}function C(t){return(0,O.fetch)({url:"/product_linlist",method:"get",params:""})}function Y(t){return(0,O.fetch)({url:t.data+"/"+t.num+"/"+t.date+"default?prlin="+t.id,method:"get",params:""})}function D(t){return(0,O.fetch)({url:"customer_profits_rank/"+t.data+"order="+t.name,method:"get",params:""})}function M(t){return(0,O.fetch)({url:"customer_profits_rank/"+t.date+"order="+t.name+t.data,method:"get",params:""})}function A(t){return(0,O.fetch)({url:"lirun_money_zhexian/"+t.date+t.data,method:"get",params:""})}function R(t){return(0,O.fetch)({url:"mediaRunning/12?year="+t.date+"&prlinid="+t.prlinid,method:"get",params:""})}Object.defineProperty(e,"__esModule",{value:!0}),e.customers=r,e.profitsTrend=i,e.profitsTrueTrend=o,e.getRankList=n,e.getMonthline=d,e.market_renew_money_zhexian=s,e.getProfitsRankList=l,e.getProfitsMonthline=c,e.getmedia=u,e.getmedialine=f,e.getcontractAddRank=h,e.contractMarketAddList=p,e.getcontractprofitRank=g,e.marketProfitsList=_,e.getcontractContract=m,e.getSemRank=x,e.semCost=b,e.customer_prlin=v,e.actualRenewals=k,e.market_renew_money_zhexian_xf=w,e.backPayment=y,e.product_linlist=C,e.getProfitsRankListAll=Y,e.customer_profits_rank_xf=D,e.customer_profits_rank=M,e.lirun_money_zhexian=A,e.mediaRunning=R;var O=a(66)},1624:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(192),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=a(1239),n=a(1),d=1,s=function(){var t=new Date,e=t.getDay(),a="1234560",r=0-a.indexOf(e),i=new Date;i.setDate(i.getDate()+r);var o=6-a.indexOf(e),n=new Date;return n.setDate(n.getDate()+o),[i,n]},l=(n().format("YYYY-01-01"),n(s()[0]).format("YYYY-MM-DD")),c=n(s()[1]).format("YYYY-MM-DD"),u=n().startOf("month").format("YYYY-MM-DD"),f=n().endOf("month").format("YYYY-MM-DD"),h=u+"/"+f,p=window.location.href,g=p.substring(p.lastIndexOf("=")+1,p.length),_="",m="",x="",b="",v="";e.default={data:function(){var t;return t={grossTime:"",radio:1,gridName:"",gridZu:"",gridRanking:"",gridWeek:"",gridAddNum:"",gridAllNum:"--"},(0,i.default)(t,"radio",1),(0,i.default)(t,"dialogVisible",!1),(0,i.default)(t,"firstAllWeek",[]),(0,i.default)(t,"tableDataWeek",[]),(0,i.default)(t,"titleDate",""),(0,i.default)(t,"date",""),(0,i.default)(t,"week",""),(0,i.default)(t,"month",""),(0,i.default)(t,"handleClose",""),(0,i.default)(t,"num",1),(0,i.default)(t,"img",""),(0,i.default)(t,"addFormVisible",!1),(0,i.default)(t,"pickerOptions0",{disabledDate:function(t){return t.getTime()>Date.now()-864e5}}),(0,i.default)(t,"pickerOptions1",{disabledDate:function(t){return t.getTime()>=Date.now()}}),(0,i.default)(t,"getcontractprofitRank",function(t,e){var a=this;(0,o.getcontractprofitRank)({data:e,default:t}).then(function(t){a.img="http://c.lzad.cc/"+t.data[0].image,a.gridName=t.data[0].name,a.gridZu=t.data[0].manager,a.gridWeek=t.data[0].rank,a.gridAdd=t.data[0].name,a.gridAddNum=t.data[0].lirun}).catch(function(t){a.$message.error("error")})}),(0,i.default)(t,"marketProfitsList",function(t,e){var a=this;(0,o.marketProfitsList)({data:e,id:t}).then(function(t){a.tableDataWeek=t.data;for(var e=0,r=0;r<t.data.length;r++)e+=Number(t.data[r].lirun);a.gridAllNum=e}).catch(function(t){a.$message.error("error")})}),(0,i.default)(t,"matnum",function(t){var e="",a=0;if(t){if(Number(t)<0)if(t=(-Number(t)).toString(),-1==t.indexOf(".")){for(var r=t.length-1;r>=0;r--)e=a%3==0&&0!=a?t.charAt(r)+","+e:t.charAt(r)+e,a++;t="-"+e+".00"}else{for(var r=t.indexOf(".")-1;r>=0;r--)e=a%3==0&&0!=a?t.charAt(r)+","+e:t.charAt(r)+e,a++;t="-"+e+(t+"00").substr((t+"00").indexOf("."),3)}else if(t=t.toString(),-1==t.indexOf(".")){for(var r=t.length-1;r>=0;r--)e=a%3==0&&0!=a?t.charAt(r)+","+e:t.charAt(r)+e,a++;t=e+".00"}else{for(var r=t.indexOf(".")-1;r>=0;r--)e=a%3==0&&0!=a?t.charAt(r)+","+e:t.charAt(r)+e,a++;t=e+(t+"00").substr((t+"00").indexOf("."),3)}return t}return"--"}),t},components:{},created:function(){p=window.location.href,g=p.substring(p.lastIndexOf("=")+1,p.length),this.grossTime=h,this.getcontractprofitRank(g,h),this.marketProfitsList(g,h),this.gridRanking="月排名"},methods:{handleAdd:function(){this.addFormVisible=!0,this.radio=1},getradio:function(t){this.num=t,d=t},dateChange:function(t){_=t,v=t,b="排名"},ChangeWeek:function(t){var e=Number(t.indexOf("/"))+1,a=t.substring(e),r=n(a).add(6,"days").format("YYYY-MM-DD");m=a+"/"+r,v=m,b="周排名"},ChangeMonth:function(t){var e=n(t).startOf("month").format("YYYY-MM-DD"),a=n(t).endOf("month").format("YYYY-MM-DD");x=e+"/"+a,v=x,b="月排名"},sendbtn:function(){1==d?(this.getcontractprofitRank(g,_),this.marketProfitsList(g,_)):2==d?(this.getcontractprofitRank(g,m),this.marketProfitsList(g,m)):(this.getcontractprofitRank(g,x),this.marketProfitsList(g,x)),this.grossTime=v,this.gridRanking=b,this.addFormVisible=!1}}}},1889:function(t,e,a){e=t.exports=a(965)(),e.push([t.i,".xiaoshou_infor .table-box{width:100%;background:#121921;padding:10px 0}.xiaoshou_infor .el-input__inner{background:none;border:1px solid #222931}.xiaoshou_infor .ranking-right{padding-left:20px}.xiaoshou_infor .el-table{background:none;border:none;color:#fff}.xiaoshou_infor .el-table:after,.xiaoshou_infor .el-table:before{background:none}.xiaoshou_infor .el-table th{background:#121921}.xiaoshou_infor .el-table__footer-wrapper thead div,.xiaoshou_infor .el-table__header-wrapper thead div{background:#121921;color:#fff}.xiaoshou_infor .el-table .sort-caret.ascending{border-bottom:5px solid #fff}.xiaoshou_infor .el-table .sort-caret.descending{border-top:5px solid #fff}.xiaoshou_infor .el-table--border td,.xiaoshou_infor .el-table--border th{border-right:none}.xiaoshou_infor .el-pagination button.disabled{color:#e4e4e4;background-color:#121921;cursor:not-allowed;border:1px solid #222931}.xiaoshou_infor .el-pagination__sizes .el-input .el-input__inner{font-size:13px;border:1px solid #222931}.xiaoshou_infor .el-pagination__editor{background:#121921;color:#fff;border:1px solid #222931}.xiaoshou_infor .el-input__inner{color:#fff}.xiaoshou_infor .el-select-dropdown__list{background:#121921;color:#fff}.xiaoshou_infor .el-select-dropdown__item span{color:#fff}.xiaoshou_infor .el-select-dropdown.is-multiple .el-select-dropdown__item.selected.hover,.xiaoshou_infor .el-select-dropdown__item.hover,.xiaoshou_infor .el-select-dropdown__item.selected.hover{background-color:#222931}.xiaoshou_infor .el-table td,.xiaoshou_infor .el-table th.is-leaf{border-bottom:1px solid #222931}.xiaoshou_infor .el-table thead th,.xiaoshou_infor .el-table thead th>.cell{background-color:#121921!important}.xiaoshou_infor .el-table--striped .el-table__body tr td{background:#121921!important}.xiaoshou_infor .el-table tr{background-color:#121921}.xiaoshou_infor .el-table tr.el-table__row:hover{background-color:#222931}.xiaoshou_infor .el-table--enable-row-hover .el-table__body tr:hover>td{background-color:#222931;background-clip:padding-box}.xiaoshou_infor .el-table--striped .el-table__body tr.el-table__row--striped td{background:none;background-clip:padding-box}.xiaoshou_infor .el-pager li.active{background:#121921;border:1px solid #222931}.xiaoshou_infor .el-select-dropdown__item.selected.hover{background:#222931}.xiaoshou_infor .el-select-dropdown__item.selected{color:#fff;background-color:#222931}.xiaoshou_infor .el-dialog--small{width:900px;height:450px;margin:6% auto}.xiaoshou_infor .data-input{display:inline-block}.xiaoshou_infor .el-input__inner{color:#000}.xiaoshou_infor .tanBox{width:100%;padding:50px 0 0 140px}.xiaoshou_infor .radioBox-b{margin:35px 0}.xiaoshou_infor .content_all{margin:45px 0 0}.xiaoshou_infor .el-button--primary{color:#fff;background-color:#fb9678;border-radius:5px;border:none;width:140px;height:40px;font-size:18px;outline:none;margin-right:20px}.xiaoshou_infor .leba{font-size:14px;padding-left:5px;margin:0 30px 0 7px}.xiaoshou_infor .el-button--default{width:140px;height:40px;border-radius:5px;border:1px solid #000;color:#000;outline:none}.xiaoshou_infor .el-radio__input.is-checked .el-radio__inner{border-color:#fb9678;background:#fb9678}.xiaoshou_infor .el-date-editor--daterange.el-input,.xiaoshou_infor .el-date-editor.el-input{width:220px;height:40px}.xiaoshou_infor .icon{width:30px;height:22px;vertical-align:-.15em;fill:currentColor;overflow:hidden}.xiaoshou_infor .chart-container[data-v-583be86b]{background:#181f29}.xiaoshou_infor .echar-header{height:60px;line-height:60px;color:#fff;margin:0;background:#181f29}.xiaoshou_infor .echar-header P{padding:0;margin:0}.xiaoshou_infor .echar-header P:first-child{float:left;margin-left:45px}.xiaoshou_infor .echar-header P:last-child{float:right;margin-right:45px}.xiaoshou_infor .header-list{padding:0 45px;background:#121921}.xiaoshou_infor .header-list .header-list-box{height:110px;margin:25px 0;border-right:1px solid #222933;padding:.1px}.xiaoshou_infor .header-list .header-list-box:last-child{border-right:none}.xiaoshou_infor .grid-left,.xiaoshou_infor .grid-right{float:left}.xiaoshou_infor .grid-left{width:100px;height:100px;border:5px solid #42454a;border-radius:50%;overflow:hidden}.xiaoshou_infor .grid-left img{width:100%}.xiaoshou_infor .grid-right{color:#fff;margin-left:30px}.xiaoshou_infor .grid-right p,.xiaoshou_infor .header-list-num p{margin:0}.xiaoshou_infor .grid-right P:first-child{font-size:20px;margin:20px 0}.xiaoshou_infor .grid-right P:last-child{font-size:16px;color:#64656a}.xiaoshou_infor .header-list-num{text-align:center;color:#fff}.xiaoshou_infor .header-list-num p:first-child{font-size:16px;margin:20px 0}.xiaoshou_infor .header-list-num p:last-child{font-size:18px;color:#d3d371}.xiaoshou_infor .table-container{position:relative;width:100%;background:#181f29}",""])},2115:function(t,e,a){var r=a(1889);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(966)("6385a590",r,!0)},2365:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"components-container xiaoshou_infor"},[a("div",{staticClass:"chart-container"},[a("div",{staticClass:"echar-header"},[a("p",[a("svg",{staticClass:"icon",staticStyle:{width:"18px"},attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-xiaohao"}})]),t._v("\n                销售信息\n            ")]),t._v(" "),a("p",[a("a",{on:{click:t.handleAdd}},[a("span",[t._v("\n                        "+t._s(t.grossTime)+"\n                    ")]),t._v(" "),a("svg",{staticClass:"icon",staticStyle:{width:"18px"},attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-iconfontcolor37"}})])])])]),t._v(" "),a("el-row",{staticClass:"header-list"},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple header-list-box"},[a("div",{staticClass:"card-list-imgBox grid-left"},[a("img",{attrs:{src:t.img,alt:""}})]),t._v(" "),a("div",{staticClass:"grid-right"},[a("p",[t._v(t._s(t.gridName))]),t._v(" "),1==t.gridZu?a("p",[t._v("组长")]):t._e(),t._v(" "),0==t.gridZu?a("p",[t._v("销售")]):t._e()])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple header-list-box header-list-num"},[a("p",[a("svg",{staticClass:"icon",staticStyle:{width:"18px"},attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-gengxinpaiming"}})]),t._v("\n                        "+t._s(t.gridRanking)+"\n                    ")]),t._v(" "),a("p",[t._v(t._s(t.gridWeek))])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple header-list-box header-list-num"},[a("p",[a("svg",{staticClass:"icon",staticStyle:{width:"18px"},attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-xinzeng"}})]),t._v("\n                        月毛利\n                    ")]),t._v(" "),a("p",[t._v(t._s(t.gridAddNum))])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple header-list-box header-list-num"},[a("p",[a("svg",{staticClass:"icon",staticStyle:{width:"18px"},attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-bingtu"}})]),t._v("\n                      总毛利 "+t._s(t.gridAll)+"\n                    ")]),t._v(" "),a("p",[t._v(t._s(t.matnum(t.gridAllNum)))])])])],1)],1),t._v(" "),a("div",{staticClass:"table-container"},[a("div",{staticClass:"echar-header"},[a("p",[a("svg",{staticClass:"icon",staticStyle:{width:"18px"},attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-gengxinpaiming"}})]),t._v("\n                客户利润详情\n            ")]),t._v(" "),a("p")]),t._v(" "),a("div",{staticClass:"table-box"},[a("data-tables",{staticStyle:{width:"100%"},attrs:{"has-action-col":!1,data:t.tableDataWeek,"default-sort":{prop:"money",order:"descending"},"pagination-def":{pageSize:15,pageSizes:[15,25,40]}}},[a("el-table-column",{attrs:{sortable:"",label:t.$t("titles.customer")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.adname))])]}}])}),t._v(" "),a("el-table-column",{attrs:{sortable:"",label:"销售"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{sortable:"",label:"利润"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.lirun))])]}}])})],1),t._v(".\n        ")],1),t._v(" "),a("el-dialog",{staticClass:"tan_box",attrs:{visible:t.addFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.addFormVisible=e},close:function(e){t.addFormVisible=!1}}},[a("el-radio-group",{on:{change:function(e){return t.getradio(e)}},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("div",{staticClass:"tanBox"},[a("div",{staticClass:"radioBox radioBox-a"},[a("el-radio",{attrs:{label:1}},[1==t.num?a("span",{staticClass:"leba",staticStyle:{color:"#fda58d"}},[t._v("自定义时间")]):t._e(),t._v(" "),1!=t.num?a("span",{staticClass:"leba",staticStyle:{color:"#e1e1e1"}},[t._v("自定义时间")]):t._e()]),t._v(" "),a("div",{staticClass:"data-input "},[1==t.num?a("el-date-picker",{staticClass:"pick",attrs:{type:"daterange",align:"right","start-placeholder":"开始日期","end-placeholder":"结束日期","range-separator":"/",format:"yyyy-MM-dd","picker-options":t.pickerOptions0},on:{change:t.dateChange},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}):t._e(),t._v(" "),1!=t.num?a("el-date-picker",{attrs:{align:"right",disabled:!0,placeholder:"选择日期范围"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}):t._e()],1)],1),t._v(" "),a("div",{staticClass:"radioBox radioBox-b"},[a("el-radio",{attrs:{label:2}},[2==t.num?a("span",{staticClass:"leba",staticStyle:{color:"#fda58d"}},[t._v("周消耗      ")]):t._e(),t._v(" "),2!=t.num?a("span",{staticClass:"leba",staticStyle:{color:"#e1e1e1"}},[t._v("周消耗      ")]):t._e()]),t._v(" "),2==t.num?a("el-date-picker",{staticClass:"selWeek",attrs:{type:"week",format:"yyyy 第 WW 周/yyyy-MM-dd","picker-options":t.pickerOptions0,placeholder:"选择周"},on:{change:t.ChangeWeek},model:{value:t.week,callback:function(e){t.week=e},expression:"week"}}):t._e(),t._v(" "),2!=t.num?a("el-date-picker",{attrs:{align:"right",disabled:!0,placeholder:"选择周"},model:{value:t.week,callback:function(e){t.week=e},expression:"week"}}):t._e()],1),t._v(" "),a("div",{staticClass:"radioBox radioBox-c"},[a("el-radio",{attrs:{label:3}},[3==t.num?a("span",{staticClass:"leba",staticStyle:{color:"#fda58d"}},[t._v("月消耗      ")]):t._e(),t._v(" "),3!=t.num?a("span",{staticClass:"leba",staticStyle:{color:"#e1e1e1"}},[t._v("月消耗      ")]):t._e()]),t._v(" "),3==t.num?a("el-date-picker",{staticClass:"selMonth",attrs:{type:"month","picker-options":t.pickerOptions1,placeholder:"选择月"},on:{change:t.ChangeMonth},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}}):t._e(),t._v(" "),3!=t.num?a("el-date-picker",{attrs:{align:"right",disabled:!0,placeholder:"选择月"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}):t._e()],1),t._v(" "),a("div",{staticClass:"content_all content_btn"},[a("el-button",{attrs:{type:"primary","native-type":"submit"},nativeOn:{click:function(e){return t.sendbtn(e)}}},[t._v("提交")]),t._v(" "),a("el-button",{nativeOn:{click:function(e){t.addFormVisible=!1}}},[t._v("取消")])],1)])])],1)],1)])},staticRenderFns:[]}}});