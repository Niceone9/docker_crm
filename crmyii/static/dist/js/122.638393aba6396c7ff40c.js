webpackJsonp([122,207],{1032:function(t,e,n){n(2090);var a=n(19)(n(1627),n(2342),null,null);t.exports=a.exports},1239:function(t,e,n){"use strict";function a(t){return(0,A.fetch)({url:"customerList",method:"get",params:""})}function r(t){return(0,A.fetch)({url:"profitsTrend/12/default?cuid="+t.id,method:"get",params:""})}function i(t){return(0,A.fetch)({url:"profitsTrueTrend/12/default?cuid="+t.id,method:"get",params:""})}function o(t){return(0,A.fetch)({url:"renewRank/"+t.num+"/"+t.data+"default",method:"get",params:""})}function l(t){return(0,A.fetch)({url:"renewTrend/12/default",method:"post",data:t.date})}function c(t){return(0,A.fetch)({url:"market_renew_money_zhexian/"+t.date,method:"get",params:""})}function d(t){return(0,A.fetch)({url:t.data+"/"+t.num+"/"+t.date+"default",method:"get",params:""})}function s(t){return(0,A.fetch)({url:t.data+"/12/default",method:"post",data:t.date})}function p(t){return(0,A.fetch)({url:"mediaProductStatistical/"+t.data,method:"get",params:""})}function u(t){return(0,A.fetch)({url:"mediaRunning/12"+t.prlinid+"year="+t.year,method:"get",params:""})}function h(t){return(0,A.fetch)({url:"contractAddRank/"+t.default+"/"+t.data,method:"get",params:""})}function m(t){return(0,A.fetch)({url:"contractMarketAddList/"+t.default+"/"+t.data,method:"get",params:""})}function f(t){return(0,A.fetch)({url:"marketProfitsRank/"+t.default+"/"+t.data,method:"get",params:""})}function g(t){return(0,A.fetch)({url:"marketProfitsList/"+t.id+"/"+t.data,method:"get",params:""})}function b(t){return(0,A.fetch)({url:"contractAddList/"+t.data,method:"get",params:""})}function x(t){return(0,A.fetch)({url:"semRank/"+t.data,method:"get",params:""})}function _(t){return(0,A.fetch)({url:"semCost/"+t.name+"/"+t.data,method:"get",params:""})}function v(t){return(0,A.fetch)({url:"customer_prlin/"+t.id,method:"get",params:""})}function y(t){return(0,A.fetch)({url:"profitsTrend/12/default?cuid="+t.id+"&prlin="+t.prlin,method:"post",data:t.date})}function k(t){return(0,A.fetch)({url:"market_renew_money_zhexian/"+t.date+"?adid="+t.id+t.data+t.prlin,method:"get",params:""})}function w(t){return(0,A.fetch)({url:"profitsTrueTrend/12/default?cuid="+t.id+"&prlin="+t.prlin,method:"post",data:t.date})}function S(t){return(0,A.fetch)({url:"/product_linlist",method:"get",params:""})}function z(t){return(0,A.fetch)({url:t.data+"/"+t.num+"/"+t.date+"default?prlin="+t.id,method:"get",params:""})}function I(t){return(0,A.fetch)({url:"customer_profits_rank/"+t.data+"order="+t.name,method:"get",params:""})}function C(t){return(0,A.fetch)({url:"customer_profits_rank/"+t.date+"order="+t.name+t.data,method:"get",params:""})}function L(t){return(0,A.fetch)({url:"lirun_money_zhexian/"+t.date+t.data,method:"get",params:""})}function Y(t){return(0,A.fetch)({url:"mediaRunning/12?year="+t.date+"&prlinid="+t.prlinid,method:"get",params:""})}Object.defineProperty(e,"__esModule",{value:!0}),e.customers=a,e.profitsTrend=r,e.profitsTrueTrend=i,e.getRankList=o,e.getMonthline=l,e.market_renew_money_zhexian=c,e.getProfitsRankList=d,e.getProfitsMonthline=s,e.getmedia=p,e.getmedialine=u,e.getcontractAddRank=h,e.contractMarketAddList=m,e.getcontractprofitRank=f,e.marketProfitsList=g,e.getcontractContract=b,e.getSemRank=x,e.semCost=_,e.customer_prlin=v,e.actualRenewals=y,e.market_renew_money_zhexian_xf=k,e.backPayment=w,e.product_linlist=S,e.getProfitsRankListAll=z,e.customer_profits_rank_xf=I,e.customer_profits_rank=C,e.lirun_money_zhexian=L,e.mediaRunning=Y;var A=n(66)},1369:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(192),i=a(r),o=n(193),l=a(o);e.default=(0,i.default)({props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},monthData:{type:Array,default:[]},width:{type:String,default:"200px"},height:{type:String,default:"200px"}},data:function(){return{chart:null,line:function(t){var e=l.default.init(document.getElementById("line")),n={title:{text:"",textStyle:{fontWeight:"normal",fontSize:16,color:"#64676c"},left:"6%"},legend:{icon:"rect",itemWidth:14,itemHeight:5,itemGap:13,data:["充值"],x:"center"},tooltip:{trigger:"axis",axisPointer:{lineStyle:{color:"#64676c"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#57617B"}},axisLabel:{margin:10,textStyle:{fontSize:14}},data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]}],yAxis:[{type:"value",name:"单位（元）",axisTick:{show:!0},splitLine:{show:!1},axisLine:{lineStyle:{color:"#57617B"}},axisLabel:{margin:10,textStyle:{fontSize:14}}}],series:[{name:"充值",type:"line",smooth:!0,symbol:"circle",symbolSize:5,lineStyle:{normal:{width:1}},areaStyle:{normal:{color:new l.default.graphic.LinearGradient(0,0,0,.8,[{offset:1,color:"white"},{offset:.5,color:"#22adff"}],!1),shadowColor:"#22adff",shadowBlur:10}},itemStyle:{normal:{color:"#22adff",borderColor:"#22adff"}},data:t}]};e.setOption(n),window.addEventListener("resize",function(){e.resize()},!1)}}},watch:{monthData:function(t){this.line(t)}}},"props",["monthData"])},1568:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticStyle:{height:"300px"},attrs:{id:"line"}})},staticRenderFns:[]}},1627:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(981),r=function(t){return t&&t.__esModule?t:{default:t}}(a),i=n(1239),o=n(1);e.default={data:function(){return{yearData:o().format("YYYY"),nameInput:"",dataInput:[o().format("YYYY-MM-01"),o().format("YYYY-MM-DD")],TableData:[],monthData:[],consumption:"",listLoading:!0,e_listLoading:!0,table_show:!1,pageAccountIndex:1,pageAccountSize:20,kehuTableAccountLength:"",market_renew_money_zhexian:function(){var t=this;this.e_listLoading=!0,(0,i.market_renew_money_zhexian)({date:o(this.yearData).format("YYYY-01-01")}).then(function(e){for(var n=0,a=[],r=0;r<e.length;r++)a.push(Number(e[r].money).toFixed(2)),n+=Number(e[r].money);t.consumption=n.toFixed(2),t.monthData=a,t.e_listLoading=!1}).catch(function(e){t.$message.error("error")})},customer_profits_rank_xf:function(){var t=this;this.listLoading=!0,(0,i.customer_profits_rank_xf)({data:o(this.dataInput[0]).format("YYYY-MM-DD")+"/"+o(this.dataInput[1]).format("YYYY-MM-DD")+"?",name:"chongzhimoney"}).then(function(e){t.TableData=e,t.listLoading=!1}).catch(function(e){t.$message.error("error")})}}},computed:{Tablefilter:function(){var t=this,e=[],n=this;return e=n.TableData.filter(function(t,e){if(t.advertiser.indexOf(n.nameInput)>=0)return t}),this.kehuTableAccountLength=e.length,e.filter(function(e,n){return n>=(t.pageAccountIndex-1)*t.pageAccountSize&&n<=t.pageAccountIndex*t.pageAccountSize-1})}},components:{lineSale:r.default},mounted:function(){this.market_renew_money_zhexian()},methods:{lookList:function(){this.customer_profits_rank_xf(),this.table_show=!0},handleSizeChange:function(t){this.pageAccountSize=t},handleCurrentChange:function(t){this.pageAccountIndex=t},clickTr:function(t){this.$router.push({name:"customerRenewNext",query:{id:t.cuid,name:t.adname}})},yearChange:function(){this.market_renew_money_zhexian()}}}},1864:function(t,e,n){e=t.exports=n(965)(),e.push([t.i,".crm_title{width:100%;height:20px;line-height:20px;font-size:14px;margin:0;text-indent:20px;position:relative;color:#000;background:#fff}.crm_title .crm_line{display:inline-block;position:absolute;left:0;top:0;bottom:0;margin:auto;width:4px;height:20px;background:#1a2834}.crm_title span{cursor:pointer}.crm_title .list{margin:0 10px;text-decoration:underline}.crm_title .list img{width:14px}.vue-table{border:1px solid #b4b4b4!important}.el-table td,.el-table th{padding:0!important;height:35px!important}.vue-table .el-table__header thead tr th{border-bottom:none}.vue-table .el-table--fit{text-align:center}.vue-table .el-table--fit,.vue-table .el-table__empty-block{height:400px!important;min-height:400px!important}.vue-table .el-input__inner{height:30px!important;line-height:30px!important}.vue-table .tool-bar{margin-bottom:0}.vue-table .cell,.vue-table .td-text{width:100%;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important;color:#000;padding-left:20px}.vue-table td,.vue-table th.is-leaf{border-bottom:none!important}.el-table thead th,.el-table thead th>.cell{background:#f7f7f7!important}.vue-table .cell{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vue-table .cell .xfshow{position:absolute;left:0;top:0;width:0;height:0;border-top:10px solid #ff4081;border-right:10px solid transparent}.vue-table .cell .appInfor{width:20px;height:20px;text-align:center;line-height:20px;font-size:12px;border-radius:50%;display:inline-block}.vue-table .cell .appInfor.qu{color:#fff;background:#ff8754}.vue-table .cell .appInfor.zhi{color:#fff;background:#3f7ffc}.vue-table .el-pagination{white-space:nowrap;padding:2px 5px;color:#606987;float:right;border-radius:5px}.vue-table .el-pager li,.vue-table .el-pagination button,.vue-table .el-pagination span{min-width:25px;height:25px;line-height:25px}.vue-table .el-pager li{padding:0 4px;font-size:14px;border-radius:5px;text-align:center;margin:0 2px;color:#bfcbd9}.vue-table .el-input__inner,.vue-table .el-pagination .btn-next,.vue-table .el-pagination .btn-prev{border-radius:5px;border:1px solid #bfcbd9}.vue-table .el-input__inner{width:100%;height:20px}.vue-table .el-pagination .el-select .el-input input{padding-right:25px;border-radius:5px;height:25px!important;margin-left:5px}.vue-table .el-pagination__editor{border:1px solid #d1dbe5;border-radius:5px;padding:4px 2px;width:25px!important;height:25px;line-height:25px;text-align:center;margin:0 6px;box-sizing:border-box;transition:border .3s}.vue-table .pagination-wrap{text-align:center;margin-top:8px;height:40px}.vue-table .el-pager li{box-sizing:border-box}.vue-table .el-pager li.active+li{border:1px solid #d1dbe5}.vue-table .el-table__body td{cursor:pointer;font-size:12px;border-right:none}.vue-table.el-table .cell,.vue-table.el-table th>div{padding-right:0}.vue-table ::-webkit-scrollbar{width:7px;height:16px;border-radius:0;background-color:#fff}.vue-table ::-webkit-scrollbar-track{border-radius:10px;background-color:#fff}.vue-table ::-webkit-scrollbar-thumb{height:10px;border-radius:10px;-webkit-box-shadow:inset 0 0 6px #fff;background-color:rgba(205,211,237,.4)}.vue-table tbody tr:nth-child(2n) td{background:#f8f9fb;background-clip:padding-box!important}.vue-table tbody tr:nth-child(odd) td{background-color:#fff}.block{height:50px;position:relative;padding:.1px}.block .el-pagination{margin-top:10px}.block .el-pagination .el-pagination__sizes .el-select{height:30px!important}.block .el-pagination .el-pagination__sizes .el-select input{height:29px!important;line-height:29px!important}.textBorder{text-decoration:line-through!important}.border,.textBorder{color:#757575!important}.textColor{background:#757575!important}.components-container .top_year .el-date-editor{width:160px}.components-container .top_year .el-date-editor input{height:30px!important;line-height:30px!important}.components-container .top_year .el-date-editor .el-input__icon{line-height:21px}.components-container .top_year .allMoney{height:30px;line-height:30px;display:inline-block;background:#e3f3ff;color:#22adff;font-size:14px;font-weight:700;padding:0 10px;margin-left:20px}.components-container .dataInput,.components-container .searchButton,.components-container .searchInput,.components-container .startInput{display:inline-block;vertical-align:top;font-size:12px;border:1px solid #b3b3b3;box-sizing:border-box;position:relative}.components-container .dataInput .iconSearch,.components-container .searchButton .iconSearch,.components-container .searchInput .iconSearch,.components-container .startInput .iconSearch{position:absolute;right:5px;top:0;bottom:0;margin:auto;font-size:18px;color:#bfcbd9}.components-container .dateSearch{margin:10px 0}.components-container .dateSearch .searchInput{height:33px;width:170px;padding:0 3px}.components-container .dateSearch .searchInput .el-select{width:215px;float:left}.components-container .dateSearch .searchInput .el-select input{width:130px;height:30px!important;line-height:29px!important;font-size:12px}.components-container .dateSearch .searchInput .el-select .el-input__inner{border-radius:0;border:none}.components-container .dateSearch .searchInput .line{float:left;width:1px;height:20px;background:silver;margin-top:5px}.components-container .dateSearch .searchInput .search{width:160px;float:left;height:30px!important;font-size:12px;border:none;outline:none}.components-container .dateSearch .dataInput{height:33px;width:200px}.components-container .dateSearch .dataInput .el-date-editor{width:100%;height:30px;line-height:30px;padding:0;border:none}.components-container .dateSearch .dataInput .el-date-editor .el-input__inner{border-radius:0;border:none}.components-container .dateSearch .dataInput .el-date-editor input{height:28px!important;line-height:28px!important;font-size:12px;vertical-align:top}.components-container .dateSearch .dataInput .el-date-editor .el-range__close-icon{width:13px}.components-container .table_kh .vue-table tbody tr:first-child td,.components-container .table_kh .vue-table tbody tr:first-child td .cell{background-color:#fff6e9!important}.components-container .table_kh .vue-table tbody tr:nth-child(2) td,.components-container .table_kh .vue-table tbody tr:nth-child(2) td .cell{background-color:#f2f5fe!important}.components-container .table_kh .vue-table tbody tr:nth-child(3) td,.components-container .table_kh .vue-table tbody tr:nth-child(3) td .cell{background-color:#edfbf9!important}",""])},2090:function(t,e,n){var a=n(1864);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(966)("73ec78b7",a,!0)},2342:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"components-container"},[n("el-row",{staticClass:"caiwu_line"},[n("p",{staticClass:"crm_title"},[n("i",{staticClass:"crm_line"}),t._v(" "),n("span",[t._v("客户充值排名")])])]),t._v(" "),n("el-col",{staticClass:"top_year",staticStyle:{"margin-top":"10px"},attrs:{span:24}},[n("el-date-picker",{attrs:{align:"right",type:"year",clearable:!1,placeholder:"选择年"},on:{change:t.yearChange},model:{value:t.yearData,callback:function(e){t.yearData=e},expression:"yearData"}}),t._v(" "),n("div",{staticClass:"allMoney"},[t._v("\n            全年总充值："+t._s(t._f("currency")(t.consumption,""))+"\n        ")])],1),t._v(" "),n("el-col",{staticClass:"echarts_line",attrs:{span:24}},[n("lineSale",{directives:[{name:"loading",rawName:"v-loading",value:t.e_listLoading,expression:"e_listLoading"}],attrs:{monthData:t.monthData,width:"100%"}})],1),t._v(" "),n("el-col",{staticClass:"echarts_line",attrs:{span:24}},[n("el-col",{staticStyle:{"padding-left":"0","font-size":"14px"},attrs:{span:24}},[n("span",{staticStyle:{display:"inline-block",width:"8px",height:"8px","border-radius":"100%",background:"#222f3b"}}),t._v("\n            充值排名列表\n        ")]),t._v(" "),n("el-col",{staticClass:"dateSearch",attrs:{span:24}},[n("div",{staticClass:"searchInput"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.nameInput,expression:"nameInput"}],staticClass:"search",attrs:{type:"text",placeholder:t.$t("titles.customer")},domProps:{value:t.nameInput},on:{input:function(e){e.target.composing||(t.nameInput=e.target.value)}}}),t._v(" "),n("svg",{staticClass:"icon iconSearch",staticStyle:{width:"18px",height:"18px"},attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-11"}})])]),t._v(" "),n("div",{staticClass:"dataInput"},[n("el-date-picker",{attrs:{type:"daterange",clearable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dataInput,callback:function(e){t.dataInput=e},expression:"dataInput"}})],1),t._v(" "),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"primary"},on:{click:t.lookList}},[t._v("查看")])],1),t._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.table_show,expression:"table_show"}],staticClass:"table_kh",attrs:{span:24}},[n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"vue-table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:t.Tablefilter,"default-sort":{prop:"date",order:"descending"}},on:{"row-click":function(e){return t.clickTr(e)}}},[n("el-table-column",{attrs:{label:"排名"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[1==e.row.rank?n("img",{staticStyle:{width:"25px","vertical-align":"middle","margin-right":"10px"},attrs:{src:"http://test.myushan.com/ZPCRM1.png",alt:""}}):t._e(),t._v(" "),2==e.row.rank?n("img",{staticStyle:{width:"25px","vertical-align":"middle","margin-right":"10px"},attrs:{src:"http://test.myushan.com/ZPCRM2.png",alt:""}}):t._e(),t._v(" "),3==e.row.rank?n("img",{staticStyle:{width:"25px","vertical-align":"middle","margin-right":"10px"},attrs:{src:"http://test.myushan.com/ZPCRM3.png",alt:""}}):t._e(),t._v(" "),e.row.rank>3?n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.rank))]):t._e()])]}}])}),t._v(" "),n("el-table-column",{attrs:{"header-align":"center",label:t.$t("titles.customer")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{"text-align":"center"}},[t._v("\n                                "+t._s(e.row.advertiser)+"\n                            ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{"header-align":"center",label:"月充值"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{"text-align":"center"}},[t._v("\n                                "+t._s(t._f("currency")(e.row.chongzhimoney,""))+"\n                            ")])]}}])})],1),t._v(" "),n("div",{staticClass:"block"},[n("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":t.pageAccountIndex,"page-sizes":[20,30,40],"page-size":t.pageAccountSize,layout:"total, sizes, prev, pager, next, jumper",total:t.kehuTableAccountLength},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])],1)],1)},staticRenderFns:[]}},981:function(t,e,n){var a=n(19)(n(1369),n(1568),null,null);t.exports=a.exports}});